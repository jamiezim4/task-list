{"version":3,"sources":["../src/prisma-field-builder.ts"],"names":["PrismaObjectFieldBuilder","RootBuilder","RootFieldBuilder","relation","name","allArgs","description","options","relationField","getRelation","model","builder","ref","type","getRefFromModel","query","resolve","extensions","onNull","rest","relationSelect","_args","_context","nestedQuery","select","field","isList","getFieldDescription","pothosPrismaSelect","pothosPrismaLoaded","value","undefined","pothosPrismaFallback","q","parent","args","context","info","result","relationCount","where","countSelect","_count","nullable","_info","variant","isNull","selfSelect","parentIsNull","isThenable","then","resolved","expose","typeConfig","configStore","getTypeConfig","typename","usingSelect","exposeField","pothosPrismaVariant","createExpose","constructor","fieldMap","graphqlKind","prismaFieldMap","exposeBoolean","exposeFloat","exposeInt","exposeID","exposeString","exposeBooleanList","exposeFloatList","exposeIntList","exposeIDList","exposeStringList","withAuth","relatedConnection","maxSize","prisma","maxConnectionSize","defaultSize","defaultConnectionSize","cursor","cursorValue","totalCount","connectionOptions","edgeOptions","typeName","formatCursor","getCursorFormatter","parseCursor","getCursorParser","getQuery","ctx","connectionQuery","prismaCursorConnectionQuery","take","skip","fieldQuery","cursorSelection","ModelLoader","getCursorSelection","getSelection","selection","nested","getType","paths","hasTotalCount","selections","selectionSet","filter","sel","kind","Kind","FIELD","totalCountOnly","length","filterConnectionTotalCount","fieldRef","connection","returnType","getNamedType","fields","isObjectType","isInterfaceType","getFields","fieldNodes","every","s","pothosPrismaTotalCount","Promise","wrapConnectionResult","ObjectRef","t","int","addScopes","scopes","originalCreateField","createField","call","authScopes"],"mappings":"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"}