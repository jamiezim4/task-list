{"version":3,"sources":["../src/generator.ts"],"names":["mkdirSync","writeFileSync","dirname","join","posix","resolve","resolvePath","generatorHandler","ts","ListFormat","ScriptKind","ScriptTarget","SyntaxKind","version","MIN_TS_VERSION","versionParts","split","map","part","Number","parseInt","modifiersArg","checkTSVersion","i","Error","defaultOutput","__dirname","onManifest","prettyName","onGenerate","options","config","generator","prismaOutputLocation","clientOutput","otherGenerators","find","gen","provider","value","output","extensions","prismaLocation","startsWith","some","ext","endsWith","outputLocation","prismaTypes","buildTypes","dmmf","generateOutput","undefined","trimDmmf","documentation","trimmed","datamodel","models","model","name","fields","field","type","kind","isRequired","isList","hasDefaultValue","isUnique","isId","relationName","relationFromFields","isUpdatedAt","primaryKey","uniqueIndexes","index","prismaImportStatement","factory","createImportDeclaration","createImportClause","createNamedImports","createImportSpecifier","createIdentifier","createStringLiteral","dmmfImportStatement","pluginPath","printer","createPrinter","sourcefile","createSourceFile","ESNext","TS","trimmedDatamodel","dmmfExport","createFunctionDeclaration","createModifier","ExportKeyword","createTypeReferenceNode","createBlock","createReturnStatement","createCallExpression","createPropertyAccessExpression","JSON","stringify","nodes","createNodeArray","generateDatamodel","result","printList","SourceFileStatements","fileName","recursive","replace","getOrderByTypeName","possibleTypes","orderBy","schema","inputObjectTypes","prisma","inputType","includes","prismaUtils","modelTypes","relations","filter","listRelations","createInputUnavailable","input","createPropertySignature","createTypeLiteralNode","createLiteralTypeNode","length","createUnionTypeNode","typeName","createArrayTypeNode","createNull","createFalse","createTrue","createInterfaceDeclaration","DefaultKeyword"],"mappings":"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"}